
# Práctica 1: Representación de imágenes

---

## Objetivo

El alumno comprenderá que una imagen digital a color está compuesta por tres matrices correspondientes a los canales **Rojo (R)**, **Verde (G)** y **Azul (B)**, y analizará cómo cada canal contribuye a formar el color final de un píxel. Además, aprenderá a utilizar MATLAB Online para trabajar con scripts y visualizar imágenes.

---

## Marco Teórico

### Imagen digital

Una **imagen digital** se representa como una matriz de números. En el caso de imágenes a **escala de grises**, cada píxel se guarda como un valor entre 0 y 255 (para tipo `uint8`), donde 0 representa negro y 255 blanco.

### Imagen a color (RGB)

En una imagen a color, cada píxel está definido por tres valores:

* **R (Red)**: nivel de rojo.
* **G (Green)**: nivel de verde.
* **B (Blue)**: nivel de azul.

Cada canal es una **matriz 2D**. Al combinarse, forman una **matriz 3D** `(alto, ancho, 3)` donde el tercer índice corresponde al canal de color. Los valores se encuentran típicamente en el rango 0 a 255.

### Canales separados

Al separar los tres canales de una imagen se observa la contribución de cada color. Si un canal tiene valores altos, aporta mayor intensidad de ese color al píxel final.

Por ejemplo, un píxel `(R=200, G=50, B=50)` aparece rojizo, porque el valor de rojo domina.

---

## Desarrollo

### 1. Acceso a MATLAB Online

1. Ingresar a la página: [https://matlab.mathworks.com](https://matlab.mathworks.com).
2. Iniciar sesión con una cuenta gratuita de MathWorks.

   * Si no se tiene cuenta, seleccionar **Create Account** y llenar los datos solicitados.
3. Una vez dentro, se mostrará el entorno de MATLAB Online.

### 2. Uso de MATLAB Drive

1. MATLAB Online trabaja junto con **MATLAB Drive**, un espacio en la nube donde se guardan archivos.
2. Para subir archivos (por ejemplo, imágenes), hacer clic en **Upload** en el panel izquierdo.
3. Verificar que el archivo aparezca en la carpeta de trabajo antes de usarlo en el script.

### 3. Creación de un script

1. En MATLAB Online, seleccionar **New Script** en la barra superior.
2. Guardar el script con el nombre `practica_rgb_basica.m`.
3. En el editor, escribir el código de cada bloque que se presenta a continuación.

---

### Bloque 0 — Cargar imagen

Este bloque carga una imagen a color y muestra información básica sobre su tamaño.

```matlab
clear; close all; clc

% Usa una imagen de MATLAB o cambia el nombre por la tuya
img = imread('peppers.png');     % cualquier imagen RGB sirve
figure; imshow(img); title('Imagen original');
sz = size(img); disp(['Tamaño: ', mat2str(sz)]);  % [alto, ancho, 3]
```

**Explicación:**

* La función `imread` carga la imagen.
* `imshow` la despliega.
* `size(img)` confirma que la imagen tiene 3 capas (R, G y B).

---

### Bloque 1 — Separar canales R, G y B

Se separan las tres matrices de la imagen y se muestran con su tonalidad correspondiente.

```matlab
% Separar matrices
R = img(:,:,1);   % Rojo
G = img(:,:,2);   % Verde
B = img(:,:,3);   % Azul

% Mostrar cada canal con tonalidad propia
R_tono = cat(3, R, zeros(size(R),'like',R), zeros(size(R),'like',R));
G_tono = cat(3, zeros(size(G),'like',G), G, zeros(size(G),'like',G));
B_tono = cat(3, zeros(size(B),'like',B), zeros(size(B),'like',B), B);

figure('Name','Canales con su tonalidad');
subplot(2,2,1); imshow(img);     title('Original');
subplot(2,2,2); imshow(R_tono);  title('Canal R (rojo)');
subplot(2,2,3); imshow(G_tono);  title('Canal G (verde)');
subplot(2,2,4); imshow(B_tono);  title('Canal B (azul)');
```

**Explicación:**
Cada canal se coloca en su posición, mientras los otros se llenan con ceros. Así se ve cada matriz en **tonalidad del color** correspondiente.

---

### Bloque 2 — Reconstrucción de la imagen

Se comprueba que al juntar las tres matrices se recupera la imagen original.

```matlab
img_recon = cat(3, R, G, B);
figure; imshow(img_recon); title('Reconstrucción desde R, G y B');
```

---

### Bloque 3 — Un píxel y sus componentes

El alumno selecciona un píxel con el mouse y se muestran sus valores y componentes por separado.

```matlab
figure; imshow(img); title('Haz clic en un píxel'); 
[x,y] = ginput(1);  col = round(x); fila = round(y);

r = double(R(fila,col));
g = double(G(fila,col));
b = double(B(fila,col));

disp(['Pixel (fila=',num2str(fila),', col=',num2str(col),') -> RGB = [', ...
      num2str([r g b]), ']']);

% Crear recuadros con cada componente y el color final
tile = uint8(ones(60,60));
R_tile = cat(3, uint8(r)*tile, zeros(size(tile),'uint8'), zeros(size(tile),'uint8'));
G_tile = cat(3, zeros(size(tile),'uint8'), uint8(g)*tile, zeros(size(tile),'uint8'));
B_tile = cat(3, zeros(size(tile),'uint8'), zeros(size(tile),'uint8'), uint8(b)*tile);
RGB_tile = cat(3, uint8(r)*tile, uint8(g)*tile, uint8(b)*tile);

figure('Name','Píxel y componentes');
subplot(1,4,1); imshow(R_tile);   title(['R = ', num2str(r)]);
subplot(1,4,2); imshow(G_tile);   title(['G = ', num2str(g)]);
subplot(1,4,3); imshow(B_tile);   title(['B = ', num2str(b)]);
subplot(1,4,4); imshow(RGB_tile); title('Color resultante [R,G,B]');
```

**Explicación:**

* Se selecciona un píxel de la imagen.
* Se generan recuadros donde se muestra **solo rojo**, **solo verde**, **solo azul** y, finalmente, el color combinado.
* Se observa cómo el color depende de los tres niveles.

---

## Actividad

1. **Exploración de píxeles en la imagen:**

   * Selecciona **tres píxeles diferentes**: uno en zona roja, otro en verde y otro en azul.
   * Anota los valores `(R, G, B)` que entrega MATLAB.
   * Muestra las tres componentes y el color combinado como en el Bloque 3.
   * Explica: ¿qué canal domina en cada caso?

2. **Comprobación del rango de valores:**

   * Con los comandos:

     ```matlab
     max_val = max(img(:));
     min_val = min(img(:));
     class(img)
     ```

     determina el **valor mínimo y máximo** de la imagen y el **tipo de dato**.
   * Comprueba que, al ser una imagen `uint8`, los valores van de **0 a 255**.
   * Explica qué significan los extremos:

     * `0` → ausencia total de intensidad en el canal.
     * `255` → intensidad máxima.

3. **Experimentación con cambios en los valores:**

   * Escoge un píxel y cámbialo manualmente:

     ```matlab
     img_mod = img;
     img_mod(fila,col,:) = [255 0 0]; % píxel en rojo puro
     imshow(img_mod);
     ```
   * Hazlo también con `[0 255 0]` (verde puro) y `[0 0 255]` (azul puro).
   * Explica cómo se ve el cambio y por qué.

4. **Visualización del rango con histograma:**

   * Genera el histograma de un canal, por ejemplo:

     ```matlab
     figure; imhist(R); title('Histograma del canal R');
     ```
   * Identifica cómo se distribuyen los niveles de 0 a 255.
   * Explica: ¿qué significa que un histograma tenga más valores hacia la derecha (intensidades altas)?

5. **Profundidad de bits:**

   * Convierte la imagen a 16 bits y observa el rango:

     ```matlab
     img16 = uint16(img) * 256; % escala de 0 a 65535
     max(img16(:))
     class(img16)
     ```
   * Explica la diferencia entre `uint8` y `uint16`: ¿cómo cambia el rango de intensidades?

6. **Síntesis final:**

   * Con tus propias palabras, explica cómo un píxel está constituido en una imagen RGB.
   * Relaciona: **matriz → canal → píxel → color final**.





